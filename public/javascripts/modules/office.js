// Generated by CoffeeScript 1.10.0
(function() {
  angular.module('Office', ['ngRoute']).controller('OfficeCtrl', [
    '$http', '$route', function($http, $route) {
      var that;
      that = this;
      that.loaded = true;
      that.new_profile_name = '';
      that.profile_name = $route.current.params.profile_name;
      that.profiles = [];
      if (!that.profile_name) {
        $http.get('/api/profiles').then(function(res) {
          return that.profiles = res.data;
        });
      }
      that.newProfile = function() {
        if (that.profile_name.length > 0) {
          return $http.post('/api/profile/new', {
            name: that.new_profile_name
          }).then(function(res) {
            return that.profiles.push(res.data);
          }, function() {});
        }
      };
      that.selectProfile = function(profile) {
        return $route.updateParams({
          profile_name: profile.name
        });
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=office.js.map
